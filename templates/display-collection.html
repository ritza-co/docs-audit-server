<html>
  <head>
  <style>
      table {
        width: 100%;
      }
      table,
      th,
      td {
        padding: 10px;
        border: 1px solid black;
        border-collapse: collapse;
      }
      .url_value {
        display: none;
      }
      tr:nth-child(even) {background-color: #f2f2f2;}
    </style>
    <script src="{{ url_for('static', filename='sorttable.js') }}"></script>
  </head>
  <body>
    <h2>Audit collection results for {{url}}</h2>
    <a href="{{ url_for('dashboard') }}">Home</a>
    <h3>{{collection|length}} pages were audited:</h3>

    <table class="sortable" id="dynamic_table">
      <thead><tr>
      <th>Url</th>
      <th>Images</th>
      <th>Links</th>
      <th>Image Issues</th>
      <th>Link Issues</th>
      </tr></thead>
      <tbody>
      {% for page in collection %}
      <tr>
        <td><a href="./details?page_url={{page}}">{{page}}</a></td>
        <td>{{collection[page]['image_count']}}</td>
        <td>{{collection[page]['total_links']}}</td>
        <td>{{page['oversized_images']|length}}</td>
        <td>{{page['broken_links']|length}}</td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
  </body>
</html>